<!DOCTYPE html>
<html lang="en">
<head>
<title>Event</title>
<link rel="stylesheet" href="camp.css">
<link rel="stylesheet" href="header.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href='https://fonts.googleapis.com/css?family=Alice' rel='stylesheet'>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body onload="load()">
   <header class="navbar1">

    <div class="navbar" id="myHeader">
      <a href="http://localhost:5000/login">Login</a>

      <div class="subnav">
        <button class="subnavbtn">About <i class="fa fa-caret-down"></i></button>
        <div class="subnav-content">
          <a href="#contactus">Contact us</a><br>
          <a href="#team">Team</a>
        </div>
      </div>
      <a href="http://localhost:5000/login">Donate</a>
      <div class="subnav">
        <button class="subnavbtn">Activities <i class="fa fa-caret-down"></i></button>
        <div class="subnav-content">
          <a href="http://localhost:5000/event">Events</a><br>
          <a href="http://localhost:5000/campaign">Camapaigns</a>
        </div>
      </div>
      <a href="http://localhost:5000/ngo">Home</a> 
    </div>
    <div>
      
        <div style="float: right;"  class="open-divsearch" onclick="show()" onmouseout="hide()">
          <input type="text" name="search" id="myInput" placeholder="search here" onkeyup="searchFunc()" style="width: 1753px;" onfocus="show()" autocomplete="off" class="open-search" >
          <button type="submit" onclick="redir()"><i class="fa fa-search"></i></button>         
          <div id="myTable" style="display:none;width: 1753px;" onmouseover="show()" class="table" ></div>
        </div>
        
    </div>
  
   
   
  </header>

		<div class="content">
      <h1>Why measure Environmental Impact?</h1>
      <p>The organisation, delivery and legacy phases of sport and cultural events all involve environmental impacts. Some of these are explicit, for example, land use for stadia or emissions created by visitor travel to and from events. Others are more hidden, for example, the carbon emissions generated in the production of merchandise. It is more important than ever that event managers appreciate the diverse impacts that events can have on the environment, and consider how to stage more sustainable events. Issues of sustainable development are also increasingly important to potential event sponsors, participants and visitors. Careful consideration of environmental impacts is also a pillar of corporate social responsibility and represents sound strategic management. Understanding the drivers of environmental impacts can also help organizations to be more cost effective. Furthermore, effective communication of environmental credentials can affect the level and quality of sponsorship/funding.
      </p>
      <p>ISO 20121, the International Standard on Sustainable Event Management was developed to help the event industry put sustainability first when planning and staging events. Based on the British Standard BS 8901 (Specification for a sustainability management system for events), ISO 20121 enables event organisers and businesses to identify the potential impacts of an event, how to reduce any negative impacts on the environment, communities and local economy, and leave a positive legacy.
         eventIMPACTS explains the key questions that event managers need to ask in the context of environmental impacts. It points to the factors driving environmental impacts, describes useful environmental impact indicators, and provides research tools that can be used to collect data and measure impacts.
      </p>
		</div>            
    <button class="first button" style="height:100px;" onclick="showImgUpcoming()">
      <span> <h1>Upcoming Events</h1></span>
    </button>
    <button class="second button" style="height:100px;" onclick="showImgFinished()">
       <span> <h1>Finished</h1></span>
    </button><br><br></br>
	   <figure>
       <div id="event"></div>
	  </figure>
    <button class="open-button" onclick="openForm()">Suggestion</button>
    <div class="popup" id="myForm">
      <form class="form-container" id="feedback" action="#" >
        <h1>Feedback</h1>
        <label for="msg" style="font-size: 60px;"><b>Message</b></label><br/>
        <input type="text" name="name" required  placeholder="Enter Name" style="height:55px;width: 100%;"><br/>
        <input type="text" name="email" required  placeholder="Enter email" style="height:55px;width: 100%;">
        <textarea placeholder="Type suggestion.." name="msg" required></textarea>   
        <button type="submit" class="btn" onclick="send()">Send</button>
        <button type="button" class="btn cancel" onclick="closeForm()">Close</button>
      </form>
    </div><br><br>
    <br><br>
    <br><br>
<footer class="footer">
  <a href="#">fb</i></a>
  <a href="#">pintrest</i></a>
  <a href="#">twitter</i></a>
  <a href="#">flickr</i></a>
  <a href="#">linkedin</i></a>
  <p class="">
  Powered by <a href="#" target="_blank">@</a>
  </p>
</footer>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
window.onscroll = function() {myFunction()};
var header = document.getElementById("myHeader");
var sticky = header.offsetTop;
function myFunction() {
  if (window.pageYOffset > sticky) {
    header.classList.add("sticky");
  } else {
    header.classList.remove("sticky");
  }
}

function send()
{
  var fd = document.getElementById("feedback");

var formData = {
    'name': fd.name.value,
    'email': fd.email.value,
    'msg': fd.msg.value,

  }
  fetch("http://localhost:3000/acceptFeedback", {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData),

                })
                  .catch(function () {
                        console.log("error");
                    });

}

function openForm() {
  document.getElementById("myForm").style.display = "block";
}
function closeForm() {
  document.getElementById("myForm").style.display = "none";
}
const options={
  method:'POST',
  useNewUrlParser: true
}
const a=document.getElementById("event");
function attach(event)
{
      const f = document.createElement('figure');
      const fc = document.createElement('figcaption');
      const img = document.createElement('img');
      const alink=document.createElement('a');
      alink.setAttribute("href","http://localhost:5000/display_event?"+event.e_name);
      fc.setAttribute("name",event.e_name);
      fc.innerHTML = event.e_name;
      alink.setAttribute("id",event);
      img.setAttribute("class", "event");
      img.setAttribute("src", event.image);
      img.setAttribute("width","400px");
      img.setAttribute("float","left");
      alink.appendChild(img);
      f.appendChild(alink);
      f.appendChild(fc);
      a.appendChild(f);
}
function showImgUpcoming(){
  var x = document.getElementById("event");
  x.style.display = "none";
  if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  $(document).ready(function(){
  $("button").click(function(){
    $("div#event").empty();
  });
});
  fetch("http://localhost:3000/eventupcoming",options)
  .then((response) => {
    return response.json();
  })
  .then((event) => {
    event.forEach(function (event) {
      attach(event);    
    })
  })
  .catch(function () {
    console.log("error");
  });
}  
}
function showImgFinished(){
  var x = document.getElementById("event");
  x.style.display = "none";
  if (x.style.display === "block") {
   x.style.display = "none";
  }
  else {
   x.style.display = "block";
 $(document).ready(function(){
 $("button").click(function(){
   $("div#event").empty();
 });
});

fetch("http://localhost:3000/eventfinished",options)
.then((response) => {
   return response.json();
 })
 .then((event) => {
   event.forEach(function (event) {
     attach(event);    
   })
 })
 .catch(function () {
   console.log("error");
 });
}
            
}

function load()
{
    fetch("http://localhost:3000/campFetch",options)
    .then((response) => {
      return response.json();
    })
    .then((campaign) => {
      campaign.forEach(function (camp) {
      attachFetch(camp);       
      })
    })
    .catch(function () {
    console.log("error");
     });
    fetch("http://localhost:3000/eventFetch",options)
    .then((response) => {
      return response.json();
    })
    .then((events) => {
      events.forEach(function (event) {
      attachFetch(event);        
    })
  })
  .catch(function () {
    console.log("error");
  });     
}
</script>
<script src="search.js"></script>
</html>